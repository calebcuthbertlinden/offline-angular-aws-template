{"ast":null,"code":"/********************************************************************************\r\n **\r\n ** SCORM API Wrapper\r\n **\r\n ** Supports:\r\n **\r\n ** SCORM 1.2, SCORM 2004.[1]\r\n **\r\n ** The following is a porting of the code from the\r\n ** original angularjs-scorm-wrapper file to Angular with a\r\n ** number of improvements from\r\n ** Competentum\r\n **\r\n ** The code has been updated to wrap the original functions in\r\n ** in angular and extend support for SCORM 2004 [4].\r\n ** It draws upon some of concepts offered in the Pipewerks[3]\r\n **\r\n ** The code is served as an Angular service [5].\r\n **\r\n ** References/Inspiration:\r\n **\r\n ** [1] ADL\r\n ** http://www.adlnet.gov/scorm\r\n **\r\n ** [2] CTC SCORM SCORM 1.2 API wrapper\r\n ** http://www.adlnet.gov/resources/scorm-1-2-content-packages?type=software_downloads\r\n **\r\n ** [3] Pipewerks SCORM wrapper\r\n ** https://github.com/pipwerks/scorm-api-wrapper\r\n **\r\n ** [4] SCORM.com\r\n ** http://scorm.com/scorm-explained/technical-scorm/run-time/\r\n **\r\n ** [5] Angularjs scorm wrapper\r\n ** https://github.com/patamechanix/angularjs-scorm-wrapper\r\n **\r\n ** Copyright (c) Competentum 2017\r\n ** Copyright (c) Aleksey Klimenko\r\n ** ---------------------------------------------------------------------------------\r\n ** License:\r\n **\r\n **\r\n ** Permission is hereby granted, free of charge, to any person obtaining a\r\n ** copy of this software and associated documentation files (the “Software”),\r\n ** to deal in the Software without restriction, including without limitation the\r\n ** rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n ** copies of the Software, and to permit persons to whom the Software is furnished to\r\n ** do so, subject to the following conditions:\r\n **\r\n ** The above copyright notice and this permission notice shall be included in\r\n ** all copies or substantial portions of the Software.\r\n **\r\n ** THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n ** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\r\n ** FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\r\n ** COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\r\n ** IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\r\n ** CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n **\r\n *********************************************************************************/\nimport { Injectable } from '@angular/core';\nimport { WindowRef } from '../window-ref';\nvar ScormWrapperService = /** @class */function () {\n  function ScormWrapperService(windowRef) {\n    this.windowRef = windowRef;\n    this.version = 'Auto';\n    this.API = null;\n    this.scormVersions = ['Auto', '1.2', '2004'];\n    this.win = windowRef.nativeWindow;\n  }\n  ScormWrapperService.prototype.setAPIVersion = function (scormVersion) {\n    scormVersion = scormVersion || 'Auto';\n    var v = this.scormVersions.indexOf(scormVersion.toString());\n    v > -1 ? this.version = this.scormVersions[v] : console.log('Not found, default to Auto');\n    return this.version;\n  };\n  Object.defineProperty(ScormWrapperService.prototype, \"APIVersion\", {\n    get: function () {\n      return this.version;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ScormWrapperService.prototype, \"isAvailable\", {\n    get: function () {\n      return true;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ScormWrapperService.prototype, \"LMSIsInitialized\", {\n    get: function () {\n      return this.API;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  ScormWrapperService.prototype.doLMSInitialize = function () {\n    return this.cmiBooleanToJs(this.getAPICall('LMSInitialize', 'Initialize')(''));\n  };\n  ScormWrapperService.prototype.doLMSFinish = function () {\n    return this.cmiBooleanToJs(this.getAPICall('LMSFinish', 'Terminate')(''));\n  };\n  ScormWrapperService.prototype.doLMSGetValue = function (parameter) {\n    return this.getAPICall('LMSGetValue', 'GetValue')(parameter);\n  };\n  ScormWrapperService.prototype.doLMSSetValue = function (parameter, value) {\n    return this.cmiBooleanToJs(this.getAPICall('LMSSetValue', 'SetValue')(parameter, value));\n  };\n  ScormWrapperService.prototype.doLMSCommit = function () {\n    return this.cmiBooleanToJs(this.getAPICall('LMSCommit', 'Commit')(''));\n  };\n  ScormWrapperService.prototype.doLMSGetLastError = function () {\n    return this.getAPICall('LMSGetLastError', 'GetLastError')();\n  };\n  ScormWrapperService.prototype.doLMSGetErrorString = function (errorCode) {\n    return this.getAPICall('LMSGetErrorString', 'GetErrorString')(errorCode.toString());\n  };\n  ScormWrapperService.prototype.doLMSGetDiagnostic = function (errorCode) {\n    return this.getAPICall('LMSGetDiagnostic', 'GetDiagnostic')(errorCode.toString());\n  };\n  ScormWrapperService.prototype.ErrorHandler = function () {\n    return this.getAPICall('LMSGetLastError', 'GetLastError')();\n  };\n  ScormWrapperService.prototype.cmiBooleanToJs = function (value) {\n    return value === '1' || value === 1 || value === 'true' || value === true;\n  };\n  ScormWrapperService.prototype.getAPIHandle = function () {\n    if (this.win.parent && this.win.parent !== this.win) {\n      this.findAPI(this.win.parent);\n    }\n    if (!this.API && this.win.top.opener) {\n      this.findAPI(this.win.top.opener);\n    } else if (!this.API) {\n      console.log('Unable to find API adapter');\n    }\n  };\n  ScormWrapperService.prototype.getAPICall = function (funcname12, funcname2004) {\n    if (!this.API) {\n      this.getAPIHandle();\n      if (!this.API) {\n        return function () {\n          return console.log(\"No API found, can't execute: \" + funcname12 + \" or \" + funcname2004);\n        };\n      }\n    }\n    var API = this.API;\n    switch (this.version) {\n      case '2004':\n        return function () {\n          return API[funcname2004].apply(API, arguments);\n        };\n      case '1.2':\n        return function () {\n          return API[funcname12].apply(API, arguments);\n        };\n    }\n  };\n  ScormWrapperService.prototype.findAPI = function (win) {\n    var findAttempts = 0;\n    var findAttemptLimit = 500;\n    for (findAttempts; findAttempts < findAttemptLimit; findAttempts++) {\n      if (win.API && (this.version === '1.2' || this.version === 'Auto')) {\n        this.API = win.API;\n        this.version = '1.2';\n        break;\n      } else if (win.API_1484_11 && (this.version === '2004' || this.version === 'Auto')) {\n        this.API = win.API_1484_11;\n        this.version = '2004';\n        break;\n      } else if (win.parent && win.parent !== win) {\n        findAttempts++;\n        win = win.parent;\n      }\n    }\n  };\n  ScormWrapperService.decorators = [{\n    type: Injectable\n  }];\n  /** @nocollapse */\n  ScormWrapperService.ctorParameters = function () {\n    return [{\n      type: WindowRef\n    }];\n  };\n  return ScormWrapperService;\n}();\nexport { ScormWrapperService };","map":{"version":3,"names":["Injectable","WindowRef","ScormWrapperService","windowRef","version","API","scormVersions","win","nativeWindow","prototype","setAPIVersion","scormVersion","v","indexOf","toString","console","log","Object","defineProperty","get","enumerable","configurable","doLMSInitialize","cmiBooleanToJs","getAPICall","doLMSFinish","doLMSGetValue","parameter","doLMSSetValue","value","doLMSCommit","doLMSGetLastError","doLMSGetErrorString","errorCode","doLMSGetDiagnostic","ErrorHandler","getAPIHandle","parent","findAPI","top","opener","funcname12","funcname2004","apply","arguments","findAttempts","findAttemptLimit","API_1484_11","decorators","type","ctorParameters"],"sources":["/Users/caleblinden/node_modules/ngx-scorm-wrapper/dist/services/scorm-wrapper/scorm-wrapper.service.js"],"sourcesContent":["/********************************************************************************\r\n **\r\n ** SCORM API Wrapper\r\n **\r\n ** Supports:\r\n **\r\n ** SCORM 1.2, SCORM 2004.[1]\r\n **\r\n ** The following is a porting of the code from the\r\n ** original angularjs-scorm-wrapper file to Angular with a\r\n ** number of improvements from\r\n ** Competentum\r\n **\r\n ** The code has been updated to wrap the original functions in\r\n ** in angular and extend support for SCORM 2004 [4].\r\n ** It draws upon some of concepts offered in the Pipewerks[3]\r\n **\r\n ** The code is served as an Angular service [5].\r\n **\r\n ** References/Inspiration:\r\n **\r\n ** [1] ADL\r\n ** http://www.adlnet.gov/scorm\r\n **\r\n ** [2] CTC SCORM SCORM 1.2 API wrapper\r\n ** http://www.adlnet.gov/resources/scorm-1-2-content-packages?type=software_downloads\r\n **\r\n ** [3] Pipewerks SCORM wrapper\r\n ** https://github.com/pipwerks/scorm-api-wrapper\r\n **\r\n ** [4] SCORM.com\r\n ** http://scorm.com/scorm-explained/technical-scorm/run-time/\r\n **\r\n ** [5] Angularjs scorm wrapper\r\n ** https://github.com/patamechanix/angularjs-scorm-wrapper\r\n **\r\n ** Copyright (c) Competentum 2017\r\n ** Copyright (c) Aleksey Klimenko\r\n ** ---------------------------------------------------------------------------------\r\n ** License:\r\n **\r\n **\r\n ** Permission is hereby granted, free of charge, to any person obtaining a\r\n ** copy of this software and associated documentation files (the “Software”),\r\n ** to deal in the Software without restriction, including without limitation the\r\n ** rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n ** copies of the Software, and to permit persons to whom the Software is furnished to\r\n ** do so, subject to the following conditions:\r\n **\r\n ** The above copyright notice and this permission notice shall be included in\r\n ** all copies or substantial portions of the Software.\r\n **\r\n ** THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n ** IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\r\n ** FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\r\n ** COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\r\n ** IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\r\n ** CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n **\r\n *********************************************************************************/\r\nimport { Injectable } from '@angular/core';\r\nimport { WindowRef } from '../window-ref';\r\nvar ScormWrapperService = /** @class */ (function () {\r\n    function ScormWrapperService(windowRef) {\r\n        this.windowRef = windowRef;\r\n        this.version = 'Auto';\r\n        this.API = null;\r\n        this.scormVersions = ['Auto', '1.2', '2004'];\r\n        this.win = windowRef.nativeWindow;\r\n    }\r\n    ScormWrapperService.prototype.setAPIVersion = function (scormVersion) {\r\n        scormVersion = scormVersion || 'Auto';\r\n        var v = this.scormVersions.indexOf(scormVersion.toString());\r\n        (v > -1) ? this.version = this.scormVersions[v] : console.log('Not found, default to Auto');\r\n        return this.version;\r\n    };\r\n    Object.defineProperty(ScormWrapperService.prototype, \"APIVersion\", {\r\n        get: function () {\r\n            return this.version;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ScormWrapperService.prototype, \"isAvailable\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ScormWrapperService.prototype, \"LMSIsInitialized\", {\r\n        get: function () {\r\n            return this.API;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ScormWrapperService.prototype.doLMSInitialize = function () {\r\n        return this.cmiBooleanToJs(this.getAPICall('LMSInitialize', 'Initialize')(''));\r\n    };\r\n    ScormWrapperService.prototype.doLMSFinish = function () {\r\n        return this.cmiBooleanToJs(this.getAPICall('LMSFinish', 'Terminate')(''));\r\n    };\r\n    ScormWrapperService.prototype.doLMSGetValue = function (parameter) {\r\n        return this.getAPICall('LMSGetValue', 'GetValue')(parameter);\r\n    };\r\n    ScormWrapperService.prototype.doLMSSetValue = function (parameter, value) {\r\n        return this.cmiBooleanToJs(this.getAPICall('LMSSetValue', 'SetValue')(parameter, value));\r\n    };\r\n    ScormWrapperService.prototype.doLMSCommit = function () {\r\n        return this.cmiBooleanToJs(this.getAPICall('LMSCommit', 'Commit')(''));\r\n    };\r\n    ScormWrapperService.prototype.doLMSGetLastError = function () {\r\n        return this.getAPICall('LMSGetLastError', 'GetLastError')();\r\n    };\r\n    ScormWrapperService.prototype.doLMSGetErrorString = function (errorCode) {\r\n        return this.getAPICall('LMSGetErrorString', 'GetErrorString')(errorCode.toString());\r\n    };\r\n    ScormWrapperService.prototype.doLMSGetDiagnostic = function (errorCode) {\r\n        return this.getAPICall('LMSGetDiagnostic', 'GetDiagnostic')(errorCode.toString());\r\n    };\r\n    ScormWrapperService.prototype.ErrorHandler = function () {\r\n        return this.getAPICall('LMSGetLastError', 'GetLastError')();\r\n    };\r\n    ScormWrapperService.prototype.cmiBooleanToJs = function (value) {\r\n        return (value === '1' || value === 1 || value === 'true' || value === true);\r\n    };\r\n    ScormWrapperService.prototype.getAPIHandle = function () {\r\n        if (this.win.parent && this.win.parent !== this.win) {\r\n            this.findAPI(this.win.parent);\r\n        }\r\n        if (!this.API && this.win.top.opener) {\r\n            this.findAPI(this.win.top.opener);\r\n        }\r\n        else if (!this.API) {\r\n            console.log('Unable to find API adapter');\r\n        }\r\n    };\r\n    ScormWrapperService.prototype.getAPICall = function (funcname12, funcname2004) {\r\n        if (!this.API) {\r\n            this.getAPIHandle();\r\n            if (!this.API) {\r\n                return function () { return console.log(\"No API found, can't execute: \" + funcname12 + \" or \" + funcname2004); };\r\n            }\r\n        }\r\n        var API = this.API;\r\n        switch (this.version) {\r\n            case '2004':\r\n                return function () {\r\n                    return API[funcname2004].apply(API, arguments);\r\n                };\r\n            case '1.2':\r\n                return function () {\r\n                    return API[funcname12].apply(API, arguments);\r\n                };\r\n        }\r\n    };\r\n    ScormWrapperService.prototype.findAPI = function (win) {\r\n        var findAttempts = 0;\r\n        var findAttemptLimit = 500;\r\n        for (findAttempts; findAttempts < findAttemptLimit; findAttempts++) {\r\n            if (win.API && (this.version === '1.2' || this.version === 'Auto')) {\r\n                this.API = win.API;\r\n                this.version = '1.2';\r\n                break;\r\n            }\r\n            else if (win.API_1484_11 && (this.version === '2004' || this.version === 'Auto')) {\r\n                this.API = win.API_1484_11;\r\n                this.version = '2004';\r\n                break;\r\n            }\r\n            else if (win.parent && win.parent !== win) {\r\n                findAttempts++;\r\n                win = win.parent;\r\n            }\r\n        }\r\n    };\r\n    ScormWrapperService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    /** @nocollapse */\r\n    ScormWrapperService.ctorParameters = function () { return [\r\n        { type: WindowRef, },\r\n    ]; };\r\n    return ScormWrapperService;\r\n}());\r\nexport { ScormWrapperService };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}