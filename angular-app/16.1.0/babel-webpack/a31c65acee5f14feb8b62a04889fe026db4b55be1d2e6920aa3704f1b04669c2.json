{"ast":null,"code":"import _asyncToGenerator from \"/Users/caleblinden/Documents/GitHub/mmf-poc/mmf-poc/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { InjectionToken } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./local-storage\";\nexport const APP_STORAGE = new InjectionToken('APP_STORAGE');\nexport const IDENTITY_TABLE = 'identity';\nexport const NUGGET_TABLE = 'nugget';\nclass SyncService {\n  constructor(localstorageService) {\n    this.localstorageService = localstorageService;\n  }\n  // -----------------------------------------------------------------------------------------------------\n  // @ Public methods\n  // -----------------------------------------------------------------------------------------------------\n  post(table, path, body) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.localstorageService.post(IDENTITY_TABLE, body);\n    })();\n  }\n  get(table, path, id) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      return _this2.localstorageService.getCollection(NUGGET_TABLE);\n    })();\n  }\n  get$(table) {\n    return this.localstorageService.get$(table);\n  }\n  getCollection(table) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      return _this3.localstorageService.getCollection(table);\n    })();\n  }\n}\nSyncService.ɵfac = function SyncService_Factory(t) {\n  return new (t || SyncService)(i0.ɵɵinject(i1.LocalStorageService));\n};\nSyncService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: SyncService,\n  factory: SyncService.ɵfac,\n  providedIn: 'root'\n});\nexport { SyncService };","map":{"version":3,"names":["InjectionToken","APP_STORAGE","IDENTITY_TABLE","NUGGET_TABLE","SyncService","constructor","localstorageService","post","table","path","body","_this","_asyncToGenerator","get","id","_this2","getCollection","get$","_this3","i0","ɵɵinject","i1","LocalStorageService","factory","ɵfac","providedIn"],"sources":["/Users/caleblinden/Documents/GitHub/mmf-poc/mmf-poc/src/app/data/sync-service.ts"],"sourcesContent":["import { Injectable, InjectionToken } from '@angular/core';\nimport { LocalStorageService } from './local-storage';\nimport { Observable } from 'rxjs';\n\nexport const APP_STORAGE = new InjectionToken<any>('APP_STORAGE');\nexport const IDENTITY_TABLE = 'identity';\nexport const NUGGET_TABLE = 'nugget';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SyncService {\n\n  constructor(private localstorageService: LocalStorageService) {}\n\n\n  // -----------------------------------------------------------------------------------------------------\n  // @ Public methods\n  // -----------------------------------------------------------------------------------------------------\n\n\n  async post(table: string, path: string, body: any): Promise<void> {\n    await this.localstorageService.post(IDENTITY_TABLE, body)\n  }\n\n\n  async get(table: string, path: string, id: string): Promise<any> {\n    return this.localstorageService.getCollection(NUGGET_TABLE)\n  }\n\n  get$(table: string): Observable<any> {\n    return this.localstorageService.get$(table);\n  }\n\n  async getCollection(table: string): Promise<any> {\n    return this.localstorageService.getCollection(table);\n  }\n\n}"],"mappings":";AAAA,SAAqBA,cAAc,QAAQ,eAAe;;;AAI1D,OAAO,MAAMC,WAAW,GAAG,IAAID,cAAc,CAAM,aAAa,CAAC;AACjE,OAAO,MAAME,cAAc,GAAG,UAAU;AACxC,OAAO,MAAMC,YAAY,GAAG,QAAQ;AAEpC,MAGaC,WAAW;EAEtBC,YAAoBC,mBAAwC;IAAxC,KAAAA,mBAAmB,GAAnBA,mBAAmB;EAAwB;EAG/D;EACA;EACA;EAGMC,IAAIA,CAACC,KAAa,EAAEC,IAAY,EAAEC,IAAS;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MAC/C,MAAMD,KAAI,CAACL,mBAAmB,CAACC,IAAI,CAACL,cAAc,EAAEQ,IAAI,CAAC;IAAA;EAC3D;EAGMG,GAAGA,CAACL,KAAa,EAAEC,IAAY,EAAEK,EAAU;IAAA,IAAAC,MAAA;IAAA,OAAAH,iBAAA;MAC/C,OAAOG,MAAI,CAACT,mBAAmB,CAACU,aAAa,CAACb,YAAY,CAAC;IAAA;EAC7D;EAEAc,IAAIA,CAACT,KAAa;IAChB,OAAO,IAAI,CAACF,mBAAmB,CAACW,IAAI,CAACT,KAAK,CAAC;EAC7C;EAEMQ,aAAaA,CAACR,KAAa;IAAA,IAAAU,MAAA;IAAA,OAAAN,iBAAA;MAC/B,OAAOM,MAAI,CAACZ,mBAAmB,CAACU,aAAa,CAACR,KAAK,CAAC;IAAC;EACvD;;AAzBWJ,WAAW,C;mBAAXA,WAAW,EAAAe,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,mBAAA;AAAA;AAAXlB,WAAW,C;SAAXA,WAAW;EAAAmB,OAAA,EAAXnB,WAAW,CAAAoB,IAAA;EAAAC,UAAA,EAFV;AAAM;SAEPrB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}