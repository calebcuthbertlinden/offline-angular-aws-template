{"ast":null,"code":"import { RootNode } from './root-node';\nimport { lastChar } from './util';\nimport { InternalNode } from './internal-node';\nimport { LeafNode } from './leaf-node';\nexport function createBddFromTruthTable(truthTable) {\n  const root = new RootNode();\n  const firstKey = truthTable.keys().next().value;\n  const keyLength = firstKey.length;\n  const mustBeSize = Math.pow(2, keyLength);\n  if (truthTable.size !== mustBeSize) {\n    throw new Error('truth table has missing entries');\n  }\n  for (const [stateSet, value] of truthTable) {\n    let lastNode = root;\n    // itterate over each char of the state\n    for (let i = 0; i < stateSet.length - 1; i++) {\n      const level = i + 1;\n      const state = stateSet.charAt(i);\n      // if node for this state-char not exists, add new one\n      if (!lastNode.branches.getBranch(state)) {\n        lastNode.branches.setBranch(state, new InternalNode(level, root, lastNode));\n      }\n      lastNode = lastNode.branches.getBranch(state);\n    }\n    // last node is leaf-node\n    const lastState = lastChar(stateSet);\n    if (lastNode.branches.getBranch(lastState)) {\n      throw new Error('leafNode already exists, this should not happen');\n    }\n    lastNode.branches.setBranch(lastState, new LeafNode(stateSet.length, root, value, lastNode));\n  }\n  return root;\n}","map":{"version":3,"names":["RootNode","lastChar","InternalNode","LeafNode","createBddFromTruthTable","truthTable","root","firstKey","keys","next","value","keyLength","length","mustBeSize","Math","pow","size","Error","stateSet","lastNode","i","level","state","charAt","branches","getBranch","setBranch","lastState"],"sources":["/Users/caleblinden/Documents/GitHub/mmf-poc/mmf-poc/node_modules/binary-decision-diagram/dist/es/create-bdd-from-truth-table.js"],"sourcesContent":["import { RootNode } from './root-node';\nimport { lastChar } from './util';\nimport { InternalNode } from './internal-node';\nimport { LeafNode } from './leaf-node';\nexport function createBddFromTruthTable(truthTable) {\n    const root = new RootNode();\n    const firstKey = truthTable.keys().next().value;\n    const keyLength = firstKey.length;\n    const mustBeSize = Math.pow(2, keyLength);\n    if (truthTable.size !== mustBeSize) {\n        throw new Error('truth table has missing entries');\n    }\n    for (const [stateSet, value] of truthTable) {\n        let lastNode = root;\n        // itterate over each char of the state\n        for (let i = 0; i < (stateSet.length - 1); i++) {\n            const level = i + 1;\n            const state = stateSet.charAt(i);\n            // if node for this state-char not exists, add new one\n            if (!lastNode.branches.getBranch(state)) {\n                lastNode.branches.setBranch(state, new InternalNode(level, root, lastNode));\n            }\n            lastNode = lastNode.branches.getBranch(state);\n        }\n        // last node is leaf-node\n        const lastState = lastChar(stateSet);\n        if (lastNode.branches.getBranch(lastState)) {\n            throw new Error('leafNode already exists, this should not happen');\n        }\n        lastNode.branches.setBranch(lastState, new LeafNode(stateSet.length, root, value, lastNode));\n    }\n    return root;\n}\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,aAAa;AACtC,SAASC,QAAQ,QAAQ,QAAQ;AACjC,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,QAAQ,QAAQ,aAAa;AACtC,OAAO,SAASC,uBAAuBA,CAACC,UAAU,EAAE;EAChD,MAAMC,IAAI,GAAG,IAAIN,QAAQ,CAAC,CAAC;EAC3B,MAAMO,QAAQ,GAAGF,UAAU,CAACG,IAAI,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,CAACC,KAAK;EAC/C,MAAMC,SAAS,GAAGJ,QAAQ,CAACK,MAAM;EACjC,MAAMC,UAAU,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEJ,SAAS,CAAC;EACzC,IAAIN,UAAU,CAACW,IAAI,KAAKH,UAAU,EAAE;IAChC,MAAM,IAAII,KAAK,CAAC,iCAAiC,CAAC;EACtD;EACA,KAAK,MAAM,CAACC,QAAQ,EAAER,KAAK,CAAC,IAAIL,UAAU,EAAE;IACxC,IAAIc,QAAQ,GAAGb,IAAI;IACnB;IACA,KAAK,IAAIc,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAIF,QAAQ,CAACN,MAAM,GAAG,CAAE,EAAEQ,CAAC,EAAE,EAAE;MAC5C,MAAMC,KAAK,GAAGD,CAAC,GAAG,CAAC;MACnB,MAAME,KAAK,GAAGJ,QAAQ,CAACK,MAAM,CAACH,CAAC,CAAC;MAChC;MACA,IAAI,CAACD,QAAQ,CAACK,QAAQ,CAACC,SAAS,CAACH,KAAK,CAAC,EAAE;QACrCH,QAAQ,CAACK,QAAQ,CAACE,SAAS,CAACJ,KAAK,EAAE,IAAIpB,YAAY,CAACmB,KAAK,EAAEf,IAAI,EAAEa,QAAQ,CAAC,CAAC;MAC/E;MACAA,QAAQ,GAAGA,QAAQ,CAACK,QAAQ,CAACC,SAAS,CAACH,KAAK,CAAC;IACjD;IACA;IACA,MAAMK,SAAS,GAAG1B,QAAQ,CAACiB,QAAQ,CAAC;IACpC,IAAIC,QAAQ,CAACK,QAAQ,CAACC,SAAS,CAACE,SAAS,CAAC,EAAE;MACxC,MAAM,IAAIV,KAAK,CAAC,iDAAiD,CAAC;IACtE;IACAE,QAAQ,CAACK,QAAQ,CAACE,SAAS,CAACC,SAAS,EAAE,IAAIxB,QAAQ,CAACe,QAAQ,CAACN,MAAM,EAAEN,IAAI,EAAEI,KAAK,EAAES,QAAQ,CAAC,CAAC;EAChG;EACA,OAAOb,IAAI;AACf"},"metadata":{},"sourceType":"module","externalDependencies":[]}