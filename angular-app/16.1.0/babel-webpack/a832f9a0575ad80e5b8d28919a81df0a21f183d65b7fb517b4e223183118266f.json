{"ast":null,"code":"import { ERROR_MESSAGES } from './error-messages';\nimport { checkSchema } from './check-schema';\nimport { checkOrmDocumentMethods, checkOrmMethods } from './check-orm';\nimport { checkMigrationStrategies } from './check-migration-strategies';\nimport { ensureCollectionNameValid, ensureDatabaseNameIsValid } from './unallowed-properties';\nimport { checkMangoQuery, checkQuery } from './check-query';\nimport { newRxError } from '../../rx-error';\nimport { deepFreeze } from '../../plugins/utils';\nimport { ensurePrimaryKeyValid } from './check-document';\nexport * from './check-schema';\nexport * from './unallowed-properties';\nexport * from './check-query';\n\n/**\n * Deep freezes and object when in dev-mode.\n * Deep-Freezing has the same performance as deep-cloning, so we only do that in dev-mode.\n * Also we can ensure the readonly state via typescript\n * @link https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n */\nexport function deepFreezeWhenDevMode(obj) {\n  // direct return if not suitable for deepFreeze()\n  if (!obj || typeof obj === 'string' || typeof obj === 'number') {\n    return obj;\n  }\n  return deepFreeze(obj);\n}\nexport var DEV_MODE_PLUGIN_NAME = 'dev-mode';\nexport var RxDBDevModePlugin = {\n  name: DEV_MODE_PLUGIN_NAME,\n  rxdb: true,\n  init: () => {\n    console.warn(['-------------- RxDB dev-mode warning -------------------------------', 'you are seeing this because you use the RxDB dev-mode plugin https://rxdb.info/dev-mode.html', 'This is great in development mode, because it will run many checks to ensure', 'that you use RxDB correct. If you see this in production mode,', 'you did something wrong because the dev-mode plugin will decrease the performance.', '', 'ðŸ¤— Hint: To get the most out of RxDB, check out the Premium Plugins', 'to get access to faster storages and more professional features: https://rxdb.info/premium.html', '', 'Also take part in the RxDB User Survey: https://rxdb.info/survey.html', '---------------------------------------------------------------------'].join('\\n'));\n  },\n  overwritable: {\n    isDevMode() {\n      return true;\n    },\n    deepFreezeWhenDevMode,\n    tunnelErrorMessage(code) {\n      if (!ERROR_MESSAGES[code]) {\n        console.error('RxDB: Error-Code not known: ' + code);\n        throw new Error('Error-Code ' + code + ' not known, contact the maintainer');\n      }\n      return ERROR_MESSAGES[code];\n    }\n  },\n  hooks: {\n    preCreateRxSchema: {\n      after: checkSchema\n    },\n    preCreateRxDatabase: {\n      after: function (args) {\n        ensureDatabaseNameIsValid(args);\n      }\n    },\n    preCreateRxCollection: {\n      after: function (args) {\n        ensureCollectionNameValid(args);\n        checkOrmDocumentMethods(args.schema, args.methods);\n        if (args.name.charAt(0) === '_') {\n          throw newRxError('DB2', {\n            name: args.name\n          });\n        }\n        if (!args.schema) {\n          throw newRxError('DB4', {\n            name: args.name,\n            args\n          });\n        }\n      }\n    },\n    createRxDocument: {\n      before: function (doc) {\n        ensurePrimaryKeyValid(doc.primary, doc.toJSON(true));\n      }\n    },\n    preCreateRxQuery: {\n      after: function (args) {\n        checkQuery(args);\n      }\n    },\n    prePrepareQuery: {\n      after: args => {\n        checkMangoQuery(args);\n      }\n    },\n    createRxCollection: {\n      after: args => {\n        // check ORM-methods\n        checkOrmMethods(args.creator.statics);\n        checkOrmMethods(args.creator.methods);\n        checkOrmMethods(args.creator.attachments);\n\n        // check migration strategies\n        if (args.creator.schema && args.creator.migrationStrategies) {\n          checkMigrationStrategies(args.creator.schema, args.creator.migrationStrategies);\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["ERROR_MESSAGES","checkSchema","checkOrmDocumentMethods","checkOrmMethods","checkMigrationStrategies","ensureCollectionNameValid","ensureDatabaseNameIsValid","checkMangoQuery","checkQuery","newRxError","deepFreeze","ensurePrimaryKeyValid","deepFreezeWhenDevMode","obj","DEV_MODE_PLUGIN_NAME","RxDBDevModePlugin","name","rxdb","init","console","warn","join","overwritable","isDevMode","tunnelErrorMessage","code","error","Error","hooks","preCreateRxSchema","after","preCreateRxDatabase","args","preCreateRxCollection","schema","methods","charAt","createRxDocument","before","doc","primary","toJSON","preCreateRxQuery","prePrepareQuery","createRxCollection","creator","statics","attachments","migrationStrategies"],"sources":["/Users/caleblinden/Documents/GitHub/mmf-poc/mmf-poc/node_modules/rxdb/dist/es/plugins/dev-mode/index.js"],"sourcesContent":["import { ERROR_MESSAGES } from './error-messages';\nimport { checkSchema } from './check-schema';\nimport { checkOrmDocumentMethods, checkOrmMethods } from './check-orm';\nimport { checkMigrationStrategies } from './check-migration-strategies';\nimport { ensureCollectionNameValid, ensureDatabaseNameIsValid } from './unallowed-properties';\nimport { checkMangoQuery, checkQuery } from './check-query';\nimport { newRxError } from '../../rx-error';\nimport { deepFreeze } from '../../plugins/utils';\nimport { ensurePrimaryKeyValid } from './check-document';\nexport * from './check-schema';\nexport * from './unallowed-properties';\nexport * from './check-query';\n\n/**\n * Deep freezes and object when in dev-mode.\n * Deep-Freezing has the same performance as deep-cloning, so we only do that in dev-mode.\n * Also we can ensure the readonly state via typescript\n * @link https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n */\nexport function deepFreezeWhenDevMode(obj) {\n  // direct return if not suitable for deepFreeze()\n  if (!obj || typeof obj === 'string' || typeof obj === 'number') {\n    return obj;\n  }\n  return deepFreeze(obj);\n}\nexport var DEV_MODE_PLUGIN_NAME = 'dev-mode';\nexport var RxDBDevModePlugin = {\n  name: DEV_MODE_PLUGIN_NAME,\n  rxdb: true,\n  init: () => {\n    console.warn(['-------------- RxDB dev-mode warning -------------------------------', 'you are seeing this because you use the RxDB dev-mode plugin https://rxdb.info/dev-mode.html', 'This is great in development mode, because it will run many checks to ensure', 'that you use RxDB correct. If you see this in production mode,', 'you did something wrong because the dev-mode plugin will decrease the performance.', '', 'ðŸ¤— Hint: To get the most out of RxDB, check out the Premium Plugins', 'to get access to faster storages and more professional features: https://rxdb.info/premium.html', '', 'Also take part in the RxDB User Survey: https://rxdb.info/survey.html', '---------------------------------------------------------------------'].join('\\n'));\n  },\n  overwritable: {\n    isDevMode() {\n      return true;\n    },\n    deepFreezeWhenDevMode,\n    tunnelErrorMessage(code) {\n      if (!ERROR_MESSAGES[code]) {\n        console.error('RxDB: Error-Code not known: ' + code);\n        throw new Error('Error-Code ' + code + ' not known, contact the maintainer');\n      }\n      return ERROR_MESSAGES[code];\n    }\n  },\n  hooks: {\n    preCreateRxSchema: {\n      after: checkSchema\n    },\n    preCreateRxDatabase: {\n      after: function (args) {\n        ensureDatabaseNameIsValid(args);\n      }\n    },\n    preCreateRxCollection: {\n      after: function (args) {\n        ensureCollectionNameValid(args);\n        checkOrmDocumentMethods(args.schema, args.methods);\n        if (args.name.charAt(0) === '_') {\n          throw newRxError('DB2', {\n            name: args.name\n          });\n        }\n        if (!args.schema) {\n          throw newRxError('DB4', {\n            name: args.name,\n            args\n          });\n        }\n      }\n    },\n    createRxDocument: {\n      before: function (doc) {\n        ensurePrimaryKeyValid(doc.primary, doc.toJSON(true));\n      }\n    },\n    preCreateRxQuery: {\n      after: function (args) {\n        checkQuery(args);\n      }\n    },\n    prePrepareQuery: {\n      after: args => {\n        checkMangoQuery(args);\n      }\n    },\n    createRxCollection: {\n      after: args => {\n        // check ORM-methods\n        checkOrmMethods(args.creator.statics);\n        checkOrmMethods(args.creator.methods);\n        checkOrmMethods(args.creator.attachments);\n\n        // check migration strategies\n        if (args.creator.schema && args.creator.migrationStrategies) {\n          checkMigrationStrategies(args.creator.schema, args.creator.migrationStrategies);\n        }\n      }\n    }\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}